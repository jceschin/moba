{"version":3,"file":"expo-plugins.js","sourceRoot":"","sources":["../../src/plugins/expo-plugins.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * These are the versioned first-party plugins with some of the future third-party plugins mixed in for legacy support.\n */\nimport { ConfigPlugin } from '../Plugin.types';\nimport * as AndroidConfig from '../android';\nimport * as IOSConfig from '../ios';\nimport { withPlugins } from './core-plugins';\nimport withAdMob from './unversioned/expo-ads-admob';\nimport withBranch from './unversioned/expo-branch';\nimport withFacebook from './unversioned/expo-facebook';\nimport withNotifications from './unversioned/expo-notifications';\nimport withSplashScreen from './unversioned/expo-splash-screen';\nimport withUpdates from './unversioned/expo-updates';\n\n/**\n * Config plugin to apply all of the custom Expo iOS config plugins we support by default.\n * TODO: In the future most of this should go into versioned packages like expo-facebook, expo-updates, etc...\n */\nexport const withExpoIOSPlugins: ConfigPlugin<{\n  bundleIdentifier: string;\n}> = (config, { bundleIdentifier }) => {\n  // Set the bundle ID ahead of time.\n  if (!config.ios) config.ios = {};\n  config.ios.bundleIdentifier = bundleIdentifier;\n\n  return withPlugins(config, [\n    [IOSConfig.BundleIdenitifer.withBundleIdentifier, { bundleIdentifier }],\n    IOSConfig.Google.withGoogle,\n    IOSConfig.Name.withDisplayName,\n    // IOSConfig.Name.withName,\n    IOSConfig.Orientation.withOrientation,\n    IOSConfig.RequiresFullScreen.withRequiresFullScreen,\n    IOSConfig.Scheme.withScheme,\n    IOSConfig.UserInterfaceStyle.withUserInterfaceStyle,\n    IOSConfig.UsesNonExemptEncryption.withUsesNonExemptEncryption,\n    IOSConfig.Version.withBuildNumber,\n    IOSConfig.Version.withVersion,\n    IOSConfig.Google.withGoogleServicesFile,\n    // Entitlements\n    IOSConfig.Entitlements.withAppleSignInEntitlement,\n    IOSConfig.Entitlements.withAccessesContactNotes,\n    // TODO: We don't have a mechanism for getting the apple team id here yet\n    [IOSConfig.Entitlements.withICloudEntitlement, { appleTeamId: 'TODO-GET-APPLE-TEAM-ID' }],\n    IOSConfig.Entitlements.withAssociatedDomains,\n    // XcodeProject\n    IOSConfig.DeviceFamily.withDeviceFamily,\n    IOSConfig.Locales.withLocales,\n    // Dangerous\n    IOSConfig.Icons.withIcons,\n  ]);\n};\n\n/**\n * Config plugin to apply all of the custom Expo Android config plugins we support by default.\n * TODO: In the future most of this should go into versioned packages like expo-facebook, expo-updates, etc...\n */\nexport const withExpoAndroidPlugins: ConfigPlugin<{\n  package: string;\n}> = (config, props) => {\n  // Set the package name ahead of time.\n  if (!config.android) config.android = {};\n  config.android.package = props.package;\n\n  return withPlugins(config, [\n    // settings.gradle\n    AndroidConfig.Name.withNameSettingsGradle,\n\n    // project build.gradle\n    AndroidConfig.GoogleServices.withClassPath,\n\n    // app/build.gradle\n    AndroidConfig.GoogleServices.withApplyPlugin,\n    AndroidConfig.Package.withPackageGradle,\n    AndroidConfig.Version.withVersion,\n\n    // AndroidManifest.xml\n    AndroidConfig.Package.withPackageManifest,\n    AndroidConfig.AllowBackup.withAllowBackup,\n    AndroidConfig.Scheme.withScheme,\n    AndroidConfig.Orientation.withOrientation,\n    AndroidConfig.Permissions.withPermissions,\n    AndroidConfig.UserInterfaceStyle.withUiModeManifest,\n    AndroidConfig.GoogleMapsApiKey.withGoogleMapsApiKey,\n    AndroidConfig.IntentFilters.withAndroidIntentFilters,\n\n    // MainActivity.*\n    AndroidConfig.UserInterfaceStyle.withUiModeMainActivity,\n\n    // strings.xml\n    AndroidConfig.Name.withName,\n\n    // Dangerous -- these plugins run in reverse order.\n    AndroidConfig.GoogleServices.withGoogleServicesFile,\n\n    // Modify colors.xml and styles.xml\n    AndroidConfig.RootViewBackgroundColor.withRootViewBackgroundColor,\n    AndroidConfig.NavigationBar.withNavigationBar,\n    AndroidConfig.StatusBar.withStatusBar,\n    AndroidConfig.PrimaryColor.withPrimaryColor,\n\n    AndroidConfig.Icon.withIcons,\n    // If we renamed the package, we should also move it around and rename it in source files\n    // Added last to ensure this plugin runs first. Out of tree solutions will mistakenly resolve the package incorrectly otherwise.\n    AndroidConfig.Package.withPackageRefactor,\n  ]);\n};\n\nexport const withExpoVersionedSDKPlugins: ConfigPlugin<{ expoUsername: string | null }> = (\n  config,\n  { expoUsername }\n) => {\n  return withPlugins(config, [\n    withAdMob,\n    withNotifications,\n    [withUpdates, { expoUsername }],\n    withBranch,\n    withFacebook,\n    withSplashScreen,\n  ]);\n};\n"]}