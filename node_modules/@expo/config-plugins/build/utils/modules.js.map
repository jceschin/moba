{"version":3,"file":"modules.js","sourceRoot":"","sources":["../../src/utils/modules.ts"],"names":[],"mappings":";;;;;AACA,uCAAiD;AACjD,gEAAuC;AAEvC,SAAgB,gBAAgB,CAC9B,UAAkB,EAClB,WAAmB,EACnB,GAAwC;IAExC,MAAM,OAAO,GAAG,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,WAAW,CAAC;IACxE,OAAO,sBAAW,CAAC,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;AACjD,CAAC;AAPD,4CAOC;AAED;;;;GAIG;AACH,KAAK,UAAU,SAAS,CAAC,IAAY;IACnC,IAAI;QACF,OAAO,MAAM,eAAI,CAAC,IAAI,CAAC,CAAC;KACzB;IAAC,WAAM;QACN,OAAO,IAAI,CAAC;KACb;AACH,CAAC;AAEM,KAAK,UAAU,eAAe,CAAC,IAAY;;IAChD,mBAAO,CAAC,MAAM,SAAS,CAAC,IAAI,CAAC,CAAC,0CAAE,MAAM,qCAAM,KAAK,CAAC;AACpD,CAAC;AAFD,0CAEC;AAEM,KAAK,UAAU,oBAAoB,CAAC,IAAY;;IACrD,mBAAO,CAAC,MAAM,SAAS,CAAC,IAAI,CAAC,CAAC,0CAAE,WAAW,qCAAM,KAAK,CAAC;AACzD,CAAC;AAFD,oDAEC;AAED,SAAgB,UAAU,CAAC,IAAY;IACrC,IAAI;QACF,OAAO,mBAAQ,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC;KAChC;IAAC,OAAO,CAAC,EAAE;QACV,OAAO,KAAK,CAAC;KACd;AACH,CAAC;AAND,gCAMC","sourcesContent":["import { ExpoConfig } from '@expo/config-types';\nimport { stat, Stats, statSync } from 'fs-extra';\nimport resolveFrom from 'resolve-from';\n\nexport function projectHasModule(\n  modulePath: string,\n  projectRoot: string,\n  exp: Pick<ExpoConfig, 'nodeModulesPath'>\n): string | undefined {\n  const fromDir = exp.nodeModulesPath ? exp.nodeModulesPath : projectRoot;\n  return resolveFrom.silent(fromDir, modulePath);\n}\n\n/**\n * A non-failing version of async FS stat.\n *\n * @param file\n */\nasync function statAsync(file: string): Promise<Stats | null> {\n  try {\n    return await stat(file);\n  } catch {\n    return null;\n  }\n}\n\nexport async function fileExistsAsync(file: string): Promise<boolean> {\n  return (await statAsync(file))?.isFile() ?? false;\n}\n\nexport async function directoryExistsAsync(file: string): Promise<boolean> {\n  return (await statAsync(file))?.isDirectory() ?? false;\n}\n\nexport function fileExists(file: string): boolean {\n  try {\n    return statSync(file).isFile();\n  } catch (e) {\n    return false;\n  }\n}\n"]}