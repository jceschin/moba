{"version":3,"file":"Plugin.types.js","sourceRoot":"","sources":["../src/Plugin.types.ts"],"names":[],"mappings":"","sourcesContent":["import { ExpoConfig } from '@expo/config-types';\nimport { JSONObject } from '@expo/json-file';\nimport { XcodeProject } from 'xcode';\n\nimport { AndroidManifest } from './android/Manifest';\nimport * as AndroidPaths from './android/Paths';\nimport { ResourceXML } from './android/Resources';\nimport { InfoPlist } from './ios/IosConfig.types';\n\ntype OptionalPromise<T> = Promise<T> | T;\n\ntype Plist = JSONObject;\n\nexport interface ModProps<T = any> {\n  /**\n   * Project root directory for the universal app.\n   */\n  readonly projectRoot: string;\n\n  /**\n   * Project root for the specific platform.\n   */\n  readonly platformProjectRoot: string;\n\n  /**\n   * Name of the mod.\n   */\n  readonly modName: string;\n\n  /**\n   * Name of the platform used in the mods config.\n   */\n  readonly platform: ModPlatform;\n\n  /**\n   * [iOS]: The path component used for querying project files.\n   *\n   * @example projectRoot/ios/[projectName]/\n   */\n  readonly projectName?: string;\n\n  nextMod?: Mod<T>;\n}\n\n// TODO: Migrate ProjectConfig to using expo instead if exp\nexport interface ExportedConfig extends ExpoConfig {\n  mods?: ModConfig | null;\n}\n\nexport interface ExportedConfigWithProps<Data = any> extends ExpoConfig {\n  /**\n   * The Object representation of a complex file type.\n   */\n  modResults: Data;\n  modRequest: ModProps<Data>;\n}\n\nexport type ConfigPlugin<Props = void> = (config: ExpoConfig, props: Props) => ExpoConfig;\n\nexport type StaticPlugin<T = any> = [string | ConfigPlugin<T>, T];\n\nexport type Mod<Props = any> = (\n  config: ExportedConfigWithProps<Props>\n) => OptionalPromise<ExportedConfigWithProps<Props>>;\n\nexport interface ModConfig {\n  android?: {\n    /**\n     * Modify the `android/app/src/main/AndroidManifest.xml` as JSON (parsed with [`xml2js`](https://www.npmjs.com/package/xml2js)).\n     */\n    manifest?: Mod<AndroidManifest>;\n    /**\n     * Modify the `android/app/src/main/res/values/strings.xml` as JSON (parsed with [`xml2js`](https://www.npmjs.com/package/xml2js)).\n     */\n    strings?: Mod<ResourceXML>;\n    /**\n     * Modify the `android/app/src/main/<package>/MainActivity.java` as a string.\n     */\n    mainActivity?: Mod<AndroidPaths.ApplicationProjectFile>;\n    /**\n     * Modify the `android/app/build.gradle` as a string.\n     */\n    appBuildGradle?: Mod<AndroidPaths.GradleProjectFile>;\n    /**\n     * Modify the `android/build.gradle` as a string.\n     */\n    projectBuildGradle?: Mod<AndroidPaths.GradleProjectFile>;\n    /**\n     * Modify the `android/settings.gradle` as a string.\n     */\n    settingsGradle?: Mod<AndroidPaths.GradleProjectFile>;\n  };\n  ios?: {\n    /**\n     * Modify the `ios/<name>/Info.plist` as JSON (parsed with [`@expo/plist`](https://www.npmjs.com/package/@expo/plist)).\n     */\n    infoPlist?: Mod<InfoPlist>;\n    /**\n     * Modify the `ios/<name>/<product-name>.entitlements` as JSON (parsed with [`@expo/plist`](https://www.npmjs.com/package/@expo/plist)).\n     */\n    entitlements?: Mod<Plist>;\n    /**\n     * Modify the `ios/<name>/Expo.plist` as JSON (Expo updates config for iOS) (parsed with [`@expo/plist`](https://www.npmjs.com/package/@expo/plist)).\n     */\n    expoPlist?: Mod<Plist>;\n    /**\n     * Modify the `ios/<name>.xcodeproj` as an `XcodeProject` (parsed with [`xcode`](https://www.npmjs.com/package/xcode))\n     */\n    xcodeproj?: Mod<XcodeProject>;\n    /**\n     * Modify the `ios/<name>/AppDelegate.m` as a string (dangerous)\n     */\n    appDelegate?: Mod<XcodeProject>;\n  };\n}\n\nexport type ModPlatform = keyof ModConfig;\n"]}